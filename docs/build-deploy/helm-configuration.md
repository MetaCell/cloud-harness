
## Override Helm values
Edit `./deployment-configuration/values-template.yaml` to override any helm chart values file. Refer to the default [Helm values file](tools/cloudharness_utilities/deployment-configuration/helm/values.yaml) for documentation about each value. 

For environment specific configurations edit `deployment-configuration/values-template-[ENV].yaml`.

## Override Codefresh pipeline templates
Edit `./deployment-configuration/codefresh-template-[ENV].yaml` to override any helm chart values file.
Notice that Codefresh templates will be generated only if a specific environment file is defined.
By default, the *dev* and *prod* environments are defined.

To override the single image build template, edit  `deployment-configuration/codefresh-build-template.yaml`

## Override base/common images

Base images are built from the infrastructure/base-images sub folders.
See the dedicated [base images](./docs/applications.md) document for more details and examples.

## Single application deployment configuration

Each application defines its ows values files and -optionally- custom templates


## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| apps | string | Will be filled automatically. | List of applications. |
| backup.active | bool | `true` | Flag to enable/disable backups. |
| backup.dir | string | `"/backups"` | Target directory of backups, the mount point of the persistent volume. |
| backup.keep_days | string | `"7"` | Number of days to keep backups. |
| backup.keep_months | string | `"6"` | Number of months to keep backups. |
| backup.keep_weeks | string | `"4"` | Number of weeks to keep backups. |
| backup.resources.limits.cpu | string | `"50m"` | K8s cpu resource definition. |
| backup.resources.limits.memory | string | `"64Mi"` | K8s memory resource definition. |
| backup.resources.requests.cpu | string | `"25m"` | K8s cpu resource definition. |
| backup.resources.requests.memory | string | `"32Mi"` | K8s memory resource definition. |
| backup.schedule | string | `"@daily"` | Schedule as cronjob expression. |
| backup.suffix | string | `".gz"` | The file suffix added to backup files. |
| domain | string | `"${{DOMAIN}}"` | The root domain. |
| env[0] | object | `{"name":"CH_VERSION","value":"0.0.1"}` | Cloud Harness version |
| env[1] | object | `{"name":"CH_CHART_VERSION","value":"0.0.1"}` | Cloud harness chart version |
| fullnameOverride | string | `""` | ? |
| ingress.enabled | bool | `true` | Flag to enable/disalbe ingress controller. |
| ingress.letsencrypt.email | string | `"filippo@metacell.us"` | Email for letsencrypt. |
| ingress.name | string | `"cloudharness-ingress"` | K8s Name of ingress. |
| ingress.ssl_redirect | bool | `true` | Enables/disables SSL redirect. |
| local | bool | `false` | If set to local, TLS won't be configured. |
| mainapp | string | `"accounts"` | Name of mainapp, routes incoming traffic of root `domaim` to this app. |
| nameOverride | string | `""` | ? |
| namespace | string | `"ch"` | The K8s namespace. |
| privenv[0] | object | `{"name":"CH_SECRET","value":"In God we trust; all others must bring data. â€• W. Edwards Deming"}` | Defines a secret as private environment variable that is injected in containers. |
| registry.name | string | `"localhost:5000"` | The docker registry. |
| registry.secret | string | `nil` | Optional secret used for pulling from docker registry. |
| secured_gatekeepers | bool | `true` | Enables/disables Gatekeeper. |
| tag | string | `"latest"` | Docker tag used to pull images. |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.5.0](https://github.com/norwoodj/helm-docs/releases/v1.5.0)